entities:
  Location:
    props: { latitude: number, longitude: number }
    rules:
      - "range(latitude, -90, 90)"
      - "range(longitude, -180, 180)"
      - "브라우저 Geolocation API로 자동 감지"
      - "GPS 권한 거부 시 권한 필요 안내 메시지 표시"

  WeatherData:
    props:
      temperature: number
      feelsLike: number
      precipitation: number
      isSnow: boolean
      windSpeed: number
      humidity: integer
      condition: string
      uvIndex: number
      isDay: boolean
      locationName: string
      updatedAt: datetime
    rules:
      - "WeatherAPI current.json 엔드포인트에서 조회"
      - "Next.js API Route를 통해 서버 사이드에서 호출 (API 키 보호)"
      - "API 에러 시 에러 메시지 표시"

enums:
  Condition:
    values: [clear, partly_cloudy, cloudy, overcast, mist, fog, rain, snow, sleet, thunder]
    note: "WeatherAPI condition code에서 매핑"

relationships:
  - { from: Location, to: WeatherData, type: triggers, card: "1:1" }
