entities:
  TemperatureZone:
    props:
      id: string
      label: string
      minTemp: number
      maxTemp: number
      isExtremeWarning: boolean
    rules:
      - '체감온도(feelsLike) 기준으로 구간 판별'
      - 'isExtremeWarning이 true이면 실내 러닝 또는 휴식 권장 메시지 표시'
      - '구간 데이터는 별도 설정 파일로 분리하여 직접 조정 가능'
    note: '기본 구간 (이후 사용자가 직접 조정 예정)'
    status: confirmed

  OutfitSet:
    props:
      top: string
      bottom: string
      accessories: string[]
    rules:
      - '상의/하의/액세서리 3가지 카테고리로 구성'
      - '구간별 기본 복장은 설정 파일에서 정의'
    status: confirmed

  Recommendation:
    props:
      outfitSet: OutfitSet
      reason: string
      warnings: string[]
      isExtremeWeather: boolean
      createdAt: datetime
    rules:
      - '체감온도 구간으로 기본 복장 결정'
      - '바람/강수/습도/자외선/낮밤 등으로 보정'
      - '추천 이유를 자연어로 함께 표시'
      - '-10도 미만 또는 30도 이상이면 isExtremeWeather = true'
      - '마지막 추천 시간 항상 표시'
      - '오프라인 시 마지막 조회 결과를 캐시에서 표시'

  # 기본 기온 구간 설정
  # status: TBD — 사용자가 이후 직접 정리 예정
  TemperatureZoneConfig:
    status: TBD
    note: '기온 구간별 구체적 복장 매핑은 사용자가 직접 정리 예정'
    props:
      zones:
        type: 'TemperatureZone[]'
        status: TBD
    default_zones:
      - {
          id: extreme_hot,
          label: '극한 더위',
          minTemp: 30,
          maxTemp: 999,
          isExtremeWarning: true,
        }
      - { id: hot, label: '더움', minTemp: 28, maxTemp: 30 }
      - { id: warm, label: '따뜻함', minTemp: 20, maxTemp: 28 }
      - { id: cool, label: '선선함', minTemp: 12, maxTemp: 20 }
      - { id: chilly, label: '쌀쌀함', minTemp: 5, maxTemp: 12 }
      - { id: cold, label: '추움', minTemp: -10, maxTemp: 5 }
      - {
          id: extreme_cold,
          label: '극한 추위',
          minTemp: -999,
          maxTemp: -10,
          isExtremeWarning: true,
        }

relationships:
  - {
      from: TemperatureZoneConfig,
      to: TemperatureZone,
      type: contains,
      card: '1:N',
    }
  - { from: TemperatureZone, to: OutfitSet, type: has, card: '1:1' }
  - { from: Recommendation, to: OutfitSet, type: references, card: 'N:1' }
